DATABASE_URL=
JWT_SECRET=
PORT=3000

## DeepSeek (OpenAI-compatible) API
DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com

## Grok / xAI (OpenAI-compatible) API
XAI_API_KEY=
XAI_BASE_URL=https://api.x.ai/v1

## Gemini (Google) API
GEMINI_API_KEY=
GEMINI_BASE_URL=https://generativelanguage.googleapis.com

# Chat: required
CHAT_MAX_CONTEXT_MESSAGES=120
CHAT_MAX_CONTEXT_CHARS=12000

# Chat: day time zone (required)
CHAT_DAY_TIME_ZONE=Asia/Shanghai

# Chat Memory (Phase 1, required)
CHAT_MEMORY_WORKER_PROVIDER=deepseek
CHAT_MEMORY_WORKER_MODEL=deepseek-reasoner
CHAT_MEMORY_WORKER_CONFIG_FILE= # geminiMemoryGenConfig.json

CHAT_ROLLING_SUMMARY_MAX_CHARS=5000
CHAT_MEMORY_ROLLING_SUMMARY_UPDATE_EVERY_N_TURNS=5
CHAT_MEMORY_GAP_BRIDGE_MAX_MESSAGES=30
CHAT_MEMORY_GAP_BRIDGE_MAX_CHARS=6000
CHAT_MEMORY_WORKER_CONCURRENCY=2
CHAT_MEMORY_BACKFILL_BATCH_MESSAGES=60
CHAT_MEMORY_BACKFILL_COOLDOWN_MS=250
CHAT_MEMORY_WRITE_RETRY_MAX=2
CHAT_MEMORY_SYNC_REBUILD_TIMEOUT_MS=600000 # Per-batch LLM timeout for rolling summary backfill/rebuild.
CHAT_MEMORY_SYNC_REBUILD_TOTAL_TIMEOUT_MS=0 # Optional total timeout for sync rebuild (0 disables).

# Chat: trash cleanup (required)
CHAT_TRASH_RETENTION_DAYS=30
CHAT_TRASH_CLEAN_INTERVAL_MS=21600000
CHAT_TRASH_PURGE_BATCH_SIZE=500

# Chat: default generation settings (required)
CHAT_DEFAULT_TEMPERATURE=0.7
CHAT_DEFAULT_TOP_P=0.95
CHAT_DEFAULT_MAX_OUTPUT_TOKENS=4096
CHAT_DEFAULT_PRESENCE_PENALTY=0
CHAT_DEFAULT_FREQUENCY_PENALTY=0
CHAT_DEFAULT_STREAM=true
CHAT_DEFAULT_ENABLE_WEB_SEARCH=false
CHAT_DEFAULT_SYSTEM_PROMPT_PRESET_ID=default

# Chat: default provider & models (required)
CHAT_DEFAULT_PROVIDER=deepseek
GROK_DEFAULT_MODEL=grok-4
DEEPSEEK_DEFAULT_MODEL=deepseek-chat
GEMINI_DEFAULT_MODEL=gemini-3-flash-preview

# LLM: timeout (required)
LLM_TIMEOUT_MS=60000

# Logging (optional)
LOG_LEVEL=info
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_DIR=logs

LOG_ERROR_FILE=error.log
LOG_WARN_FILE=warn.log
LOG_INFO_FILE=info.log
LOG_DEBUG_FILE=debug.log

# Article: temp image cleanup (required)
ARTICLE_TEMP_IMAGE_TTL_MS=86400000
ARTICLE_CLEAN_INTERVAL_MS=21600000

# (optional) provider-specific defaults override (inherits CHAT_DEFAULT_* if empty)
# Grok (does not support presence/frequency penalty, web search)
GROK_DEFAULT_TEMPERATURE=
GROK_DEFAULT_TOP_P=
GROK_DEFAULT_MAX_OUTPUT_TOKENS=
GROK_DEFAULT_STREAM=
GROK_DEFAULT_ENABLE_WEB_SEARCH=false

# DeepSeek (does not support web search)
DEEPSEEK_DEFAULT_TEMPERATURE=0.9
DEEPSEEK_DEFAULT_TOP_P=1
DEEPSEEK_DEFAULT_MAX_OUTPUT_TOKENS=4096
DEEPSEEK_DEFAULT_PRESENCE_PENALTY=0.2
DEEPSEEK_DEFAULT_FREQUENCY_PENALTY=0.2
DEEPSEEK_DEFAULT_STREAM=true
DEEPSEEK_DEFAULT_ENABLE_WEB_SEARCH=false

# Gemini (does not support presence/frequency penalty)
GEMINI_DEFAULT_TEMPERATURE=0.7
GEMINI_DEFAULT_TOP_P=0.95
GEMINI_DEFAULT_MAX_OUTPUT_TOKENS=4096
GEMINI_DEFAULT_STREAM=true
GEMINI_DEFAULT_ENABLE_WEB_SEARCH=true